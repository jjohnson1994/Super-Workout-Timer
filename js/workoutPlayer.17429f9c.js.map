{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.array.reduce.js","webpack:///./src/views/WorkoutPlayer.vue?a22d","webpack:///./node_modules/core-js/internals/array-reduce.js","webpack:///./src/views/WorkoutPlayer.vue?5635","webpack:///./src/helpers/Timer.js","webpack:///./src/helpers/WorkoutStates.js","webpack:///src/views/WorkoutPlayer.vue","webpack:///./src/views/WorkoutPlayer.vue?8450","webpack:///./src/views/WorkoutPlayer.vue?b182"],"names":["$","$reduce","left","arrayMethodIsStrict","arrayMethodUsesToLength","STRICT_METHOD","USES_TO_LENGTH","1","target","proto","forced","reduce","callbackfn","this","arguments","length","undefined","aFunction","toObject","IndexedObject","toLength","createMethod","IS_RIGHT","that","argumentsLength","memo","O","self","index","i","TypeError","module","exports","right","render","_vm","_h","$createElement","_c","_self","staticClass","_v","_s","currentExercise","title","workout","attrs","reps","formattedTimeRemaining","state","setIndex","sets","isRunning","on","start","exercises","staticRenderFns","timer","waitFor","onTick","intervalLength","waited","Promise","resolve","windowInterval","window","setInterval","remaining","clearInterval","states","notStarted","working","resting","exercise","exerciseIndex","intervalType","acc","push","time","timeOn","rest","timeOff","name","data","exercisesArray","timeRemaining","mounted","JSON","parse","localStorage","getItem","find","computed","hours","minutes","seconds","milliseconds","methods","play","component"],"mappings":"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","file":"js/workoutPlayer.17429f9c.js","sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar $reduce = require('../internals/array-reduce').left;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar STRICT_METHOD = arrayMethodIsStrict('reduce');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('reduce', { 1: 0 });\n\n// `Array.prototype.reduce` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.reduce\n$({ target: 'Array', proto: true, forced: !STRICT_METHOD || !USES_TO_LENGTH }, {\n  reduce: function reduce(callbackfn /* , initialValue */) {\n    return $reduce(this, callbackfn, arguments.length, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WorkoutPlayer.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WorkoutPlayer.vue?vue&type=style&index=0&lang=css&\"","var aFunction = require('../internals/a-function');\nvar toObject = require('../internals/to-object');\nvar IndexedObject = require('../internals/indexed-object');\nvar toLength = require('../internals/to-length');\n\n// `Array.prototype.{ reduce, reduceRight }` methods implementation\nvar createMethod = function (IS_RIGHT) {\n  return function (that, callbackfn, argumentsLength, memo) {\n    aFunction(callbackfn);\n    var O = toObject(that);\n    var self = IndexedObject(O);\n    var length = toLength(O.length);\n    var index = IS_RIGHT ? length - 1 : 0;\n    var i = IS_RIGHT ? -1 : 1;\n    if (argumentsLength < 2) while (true) {\n      if (index in self) {\n        memo = self[index];\n        index += i;\n        break;\n      }\n      index += i;\n      if (IS_RIGHT ? index < 0 : length <= index) {\n        throw TypeError('Reduce of empty array with no initial value');\n      }\n    }\n    for (;IS_RIGHT ? index >= 0 : length > index; index += i) if (index in self) {\n      memo = callbackfn(memo, self[index], index, O);\n    }\n    return memo;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.reduce` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.reduce\n  left: createMethod(false),\n  // `Array.prototype.reduceRight` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.reduceright\n  right: createMethod(true)\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-main',[_c('el-row',[_c('el-card',{staticClass:\"box-card\"},[_c('h1',[_vm._v(_vm._s(_vm.currentExercise.title || _vm.workout.title))]),_c('h1',{attrs:{\"id\":\"timerText\"}},[(_vm.currentExercise.reps !== undefined)?_c('span',[_vm._v(_vm._s(_vm.currentExercise.reps)+\" REPS\")]):_c('span',[_vm._v(_vm._s(_vm.formattedTimeRemaining))])]),_c('p',{attrs:{\"id\":\"informationText\"}},[_c('span',[_vm._v(_vm._s(_vm.currentExercise.state === 'working' ? 'GO' : 'REST')+\" \")]),_c('span',[_vm._v(\"Set \"+_vm._s(_vm.currentExercise.setIndex)+\" of \"+_vm._s(_vm.currentExercise.sets))])]),_c('el-button',{attrs:{\"disabled\":_vm.isRunning},on:{\"click\":_vm.start}},[_vm._v(\"Start\")]),_c('el-button',{attrs:{\"id\":\"btnContinue\"}},[_vm._v(\"Continue\")])],1)],1),_c('hr'),_c('el-row',[_c('el-card',{staticClass:\"box-card\"},[_c('el-table',{attrs:{\"data\":_vm.workout.exercises}},[_c('el-table-column',{attrs:{\"prop\":\"title\",\"label\":\"Title\"}}),_c('el-table-column',{attrs:{\"prop\":\"intervalType\",\"label\":\"Type\"}}),_c('el-table-column',{attrs:{\"prop\":\"timeOn\",\"label\":\"Time On\"}}),_c('el-table-column',{attrs:{\"prop\":\"timeOff\",\"label\":\"Time Off\"}}),_c('el-table-column',{attrs:{\"prop\":\"reps\",\"label\":\"Reps\"}}),_c('el-table-column',{attrs:{\"prop\":\"sets\",\"label\":\"Sets\"}}),_c('el-table-column',{attrs:{\"prop\":\"rest\",\"label\":\"Rest\"}})],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","function timer({ waitFor, onTick, intervalLength = 100 }) {\n  let waited = 0;\n\n  return new Promise((resolve) => {\n    const windowInterval = window.setInterval(() => {\n      waited += intervalLength;\n      onTick({ waited, remaining: waitFor - waited });\n\n      if (waited >= waitFor) {\n        resolve();\n        window.clearInterval(windowInterval);\n      }\n    }, intervalLength);\n  });\n}\n\nexport default timer;\n","const states = {\n  notStarted: 'not_started',\n  working: 'working',\n  resting: 'resting',\n};\n\nexport default states;\n","<template>\n  <el-main>\n    <el-row>\n      <el-card class=\"box-card\">\n        <h1>{{ currentExercise.title || workout.title }}</h1>\n        <h1 id=\"timerText\">\n          <span v-if=\"currentExercise.reps !== undefined\">{{ currentExercise.reps }} REPS</span>\n          <span v-else>{{ formattedTimeRemaining }}</span>\n        </h1>\n        <p id=\"informationText\">\n          <span>{{ currentExercise.state === 'working' ? 'GO' : 'REST' }} </span>\n          <span>Set {{ currentExercise.setIndex }} of {{ currentExercise.sets }}</span>\n        </p>\n        <el-button @click=\"start\" :disabled=\"isRunning\">Start</el-button>\n        <el-button id=\"btnContinue\">Continue</el-button>\n      </el-card>\n    </el-row>    \n    <hr>\n    <el-row>\n      <el-card class=\"box-card\">\n        <el-table :data=\"workout.exercises\">\n          <el-table-column\n            prop=\"title\"\n            label=\"Title\"\n          />\n          <el-table-column\n            prop=\"intervalType\"\n            label=\"Type\"\n          />\n          <el-table-column\n            prop=\"timeOn\"\n            label=\"Time On\"\n          />\n          <el-table-column\n            prop=\"timeOff\"\n            label=\"Time Off\"\n          />\n          <el-table-column\n            prop=\"reps\"\n            label=\"Reps\"\n          />\n          <el-table-column\n            prop=\"sets\"\n            label=\"Sets\"\n          />\n          <el-table-column\n            prop=\"rest\"\n            label=\"Rest\"\n          />\n        </el-table>\n      </el-card>\n    </el-row>\n  </el-main>\n</template>\n\n<script>\nimport intervalTypes from '@/helpers/IntervalTypes';\nimport timer from '@/helpers/Timer';\nimport states from '@/helpers/WorkoutStates';\n\nconst millsToSeconds = 1000;\nconst expandExercisesIntoArray = exercises => {\n  return exercises.reduce((acc, exercise, index) => {\n    for (let i = 0; i < exercise.sets; i++) {\n      const baseDescription = {\n        title: exercise.title,\n        sets: exercise.sets,\n        exerciseIndex: index,\n        setIndex: i + 1,\n        intervalType: exercise.intervalType\n      };\n\n      if (exercise.intervalType === intervalTypes.forTime) {\n        acc.push({\n          state: states.working,\n          time: exercise.timeOn,\n          ...baseDescription,\n        });\n\n        acc.push({\n          state: states.resting,\n          rest: exercise.timeOff,\n          ...baseDescription\n        });\n      } else if (exercise.intervalType === intervalTypes.forReps) {\n        acc.push({\n          state: states.working,\n          reps: exercise.reps,\n          ...baseDescription\n        });\n\n        acc.push({\n          state: states.resting,\n          rest: exercise.rest,\n          ...baseDescription\n        });\n      }\n\n      if (i >= exercise.sets) {\n        if (exercise.intervalType === intervalTypes.forTime) {\n          acc.push({\n            state: states.resting,\n            rest: exercise.rest,\n            ...baseDescription\n          })\n        }\n      } \n    }\n\n    return acc;\n  }, []);\n}\n\nexport default {\n  name: 'WorkoutPlayer',\n  data() {\n    return {\n      workout: {},  \n      currentExercise: {},\n      exercisesArray: [],\n      timeRemaining: 0,\n      isRunning: false,\n    };\n  },\n  mounted() {\n    this.workout = JSON.parse(window.localStorage.getItem('workouts')).find(({ id }) => id === 1);\n  },\n  computed: {\n    formattedTimeRemaining() {\n      const duration = this.timeRemaining;\n\n      let milliseconds = parseInt((duration%1000)/100);\n      let seconds = parseInt((duration/1000)%60);\n      let minutes = parseInt((duration/(1000*60))%60);\n      let hours = parseInt((duration/(1000*60*60))%24);\n\n      hours = (hours < 10) ? \"0\" + hours : hours;\n      minutes = (minutes < 10) ? \"0\" + minutes : minutes;\n      seconds = (seconds < 10) ? \"0\" + seconds : seconds;\n\n      return hours + \":\" + minutes + \":\" + seconds + \".\" + milliseconds;\n    },\n  },\n  methods: {\n    start() {\n      if (this.isRunning) {\n        return;\n      }\n\n      this.isRunning = true;\n      this.exercisesArray = expandExercisesIntoArray(this.workout.exercises);\n\n      const play = async () => {\n        const exercise = this.exercisesArray.shift();\n        this.currentExercise = exercise;\n\n        if (exercise.intervalType === intervalTypes.forTime && exercise.state === states.working) {\n          await timer({\n            waitFor: exercise.time * millsToSeconds,\n            onTick: ({ remaining }) => {\n              this.timeRemaining = remaining;\n            },\n          });\n        } else if (exercise.state === states.working) {\n          await new Promise(resolve => {\n            const btnStart = document.getElementById('btnContinue');\n            btnStart.addEventListener('click', () => {\n              resolve();\n            });\n          });\n        } else if (exercise.state === states.resting) {\n          await timer({\n            waitFor: exercise.rest * millsToSeconds,\n            onTick: ({ remaining }) => {\n              this.timeRemaining = remaining;\n            },\n          });\n        }\n\n        if (this.exercisesArray.length) {\n          play();\n        } else {\n          this.isRunning = false;\n        }\n      };\n\n      play();\n    },\n  },\n}\n</script>\n\n<style>\n  #timerText {\n    text-align: center;\n    font-size: 60px;\n  }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WorkoutPlayer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WorkoutPlayer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./WorkoutPlayer.vue?vue&type=template&id=44f3390f&\"\nimport script from \"./WorkoutPlayer.vue?vue&type=script&lang=js&\"\nexport * from \"./WorkoutPlayer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./WorkoutPlayer.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}